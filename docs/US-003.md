---
title: US-003 Housekeeping Schedule Management
version: 1.0
date: 2025-09-16
status: Completed
author: Scrum Master
references:
  - [PRD v2 Functional Requirements](docs/PRD/v2/functional-requirements.md)
  - [US-002 Backlog](docs/US-002-backlog.md)
  - [US-001 Review](docs/US-001-review.md)
  - [US-002 Review](docs/US-002-review.md)
  - [Housekeeping Epic](docs/EPICS/housekeeping-use-case-epic.md)
---

# US-003: Housekeeping Schedule Management (FR-3)

## Executive Summary
US-003 introduces a simplified workflow for housekeeping managers like Rick, who manage weekly cleaning schedules for 130+ units across 5+ housekeepers. It emphasizes low-tech usability with dropdown-heavy interfaces, predetermined schedule entry, individual printable schedules, and quick inline edits. This story builds on US-001's multi-schedule dashboard and US-002's assignee filtering (treating housekeepers as assignees), ensuring compatibility with existing v1 data while targeting a new use case for non-office scheduling.

**Estimated Effort**: 5-7 days (post-US-001 completion).  
**Priority**: High - Addresses practical housekeeping needs; enables broader app adoption.  
**Dependencies**: US-001 dynamic entries and dashboard; US-002 bulk actions for housekeeper reassignments.  
**Assumptions**: Local-first storage; predefined time slots (Morning, Afternoon, Evening); units are simple strings (e.g., "Room 101").

## 1. User Story & Acceptance Criteria
- **Story**: As a Housekeeping Manager (low-tech user), I want a simple interface to manage weekly schedules for multiple housekeepers and units so I can assign predetermined cleanings, print individual schedules, and make quick adjustments without hassle.
- **Key Requirements** (from PRD v2 3.1.3 & Housekeeping Epic):
  - **Housekeeper Management**: Dedicated section or modal to add/remove housekeepers (name only). Persist in localStorage as a global config array.
  - **Schedule Creation**: Form pre-filled for weekly schedules; dropdowns for unit, housekeeper, time slot. Support bulk/predetermined entry (e.g., import CSV or manual add for 130+ units). Auto-generate schedule title (e.g., "Week of 2025-09-22").
  - **Individual Viewing/Printing**: Filter dashboard by housekeeper (leverage US-002 assignee filter); generate printable view showing units, times, status checkboxes. One-click PDF export via browser print.
  - **Quick Edits**: Inline dropdowns in view/table for reassigning housekeeper/time/status. Auto-save with toast confirmation; support undo.
  - **UI Simplifications**: Large buttons/dropdowns; guided steps (e.g., "1. Add Housekeepers → 2. Assign Units"); high-contrast, minimal navigation. Avoid complex filters; focus on per-week views.
  - **Data Model Extensions**: Units as entry field; housekeeper list in app config; recurrence default to "Weekly".
- **Acceptance Criteria**:
  - Housekeeper setup: Add/edit 5+ housekeepers <2 min; persists across sessions.
  - Schedule entry: Create 130-unit schedule with dropdowns <10 min; validates unique units, no overlaps.
  - Viewing: Select housekeeper → See weekly table (units, times, status) <1s load; mobile stacks cleanly.
  - Printing: Generate/print individual schedule; includes week header, checkboxes, housekeeper name; A4-optimized, no ads.
  - Edits: Change assignment <3 clicks; auto-saves; undo restores previous state.
  - Performance: Load/edit/print 130-unit schedule <2s; handles 5+ housekeepers without lag.
  - Usability: Low-tech user (e.g., Rick) completes full workflow (setup → create → print → edit) in <5 min; SUS score >75 in testing.
  - Compatibility: Integrates with US-002 filtering (housekeepers as assignees); no v1 regressions; empty units handled gracefully.
  - Edge Cases: 0 housekeepers (prompt to add); duplicate units (error toast); uneven assignments (e.g., 26 units/housekeeper).

**Testability Score**: 8/10 - Clear, observable actions (dropdown selections, print outputs); supports E2E for workflows. Gaps: Usability metrics require user sessions.

## 2. Scope & Dependencies
- **In Scope**: Housekeeper config, simplified form for housekeeping schedules, individual views/prints, inline edits. Use shadcn/ui Select/Button for dropdowns; extend existing print-schedule.tsx.
- **Out of Scope**: Advanced batch import (CSV beyond manual); cross-week views; analytics on completion rates (future epic).
- **Dependencies**:
  - US-001: Dynamic entries array for units; dashboard for housekeeper filtering.
  - US-002: Assignee logic (housekeepers); bulk actions for reassignments; toasts/undo.
  - Components: src/components/schedule-form.tsx (add unit/time dropdowns); src/lib/useScheduleStore.ts (global housekeepers); src/components/print-schedule.tsx (enhance for individuals).
  - Installs: None new (reuse react-hook-form, zod from US-001).
- **Integration Points**: Housekeepers populate US-002 assignee dropdowns; housekeeping schedules appear in dashboard with "Housekeeping" category.

## 3. Implementation Guidelines
- **Tech Stack**: React/Zustand for state; shadcn/ui for UI; browser print API for PDFs (or jsPDF if needed).
- **Data Flow**:
  - Global: `housekeepers: string[]` in store.
  - Per Schedule: Entries with `unit: string`, `timeSlot: 'Morning' | 'Afternoon' | 'Evening'`, `housekeeper: string`.
  - Migration: Map v1 schedules to housekeeping format if category matches (opt-in).
- **UX Focus**: Stepper component for creation (e.g., Housekeepers → Units → Review); tooltips for low-tech guidance; keyboard-navigable dropdowns.
- **Performance Optimizations**: Virtualize unit lists for 130+; debounce edits.

## 4. Risks & Mitigations
| Risk | Probability | Impact | Mitigation | Test Coverage |
|------|-------------|--------|------------|---------------|
| Usability Friction for Low-Tech Users | High | High | Iterative usability tests with personas; simplify to <3 steps per action; add guided tours. | Manual: 5 sessions; SUS >75; task completion <5 min. |
| Performance with 130+ Units | Medium | High | Paginate entry form; memoize filtered views; benchmark on mid-range devices. | Load Tests: 130 units; <2s thresholds (Vitest/Playwright). |
| Print Inconsistencies (Browsers/Devices) | Medium | Medium | Use CSS @media print; test Chrome/FF/Safari; fallback to jsPDF. | E2E: 3 TC per browser; verify layout/checkboxes. |
| Data Entry Errors (Duplicates/Overlaps) | Low | Medium | Zod validation on save; real-time feedback in form. | Unit: 10 TC for validation; Integration: Bulk entry flows. |
| Integration Conflicts with US-002 Filtering | Low | Low | Ensure housekeepers sync to assignee list; test post-migration. | Regression: 5 TC for dashboard/filtering with housekeeping data. |

- **Non-Functional**: WCAG AA (large targets, ARIA for dropdowns); Security (sanitize unit names).
- **Overall Risk Level**: Medium - Usability primary; mitigate via early prototypes and QA involvement.

## 5. Testing Recommendations
- **Strategy**:
  - **Unit**: Validation schemas, housekeeper utils (80% coverage, Vitest).
  - **Integration**: Form + store (create → assign → edit); printing logic.
  - **E2E**: Full workflows (Playwright): Setup → Create 130-unit schedule → Filter/print per housekeeper → Edit/undo.
  - **Performance**: Simulate 130 units/5 housekeepers; measure load/edit/print times.
  - **Usability**: 5 low-tech user tests; focus on error rates, satisfaction.
  - **Compatibility**: v1 data; cross-browser print; mobile (iOS/Android).
- **Test Cases Overview** (Detailed in docs/US-003-test-plan.md):
  - TC-001-010: Housekeeper management (add/edit/remove/persist).
  - TC-011-020: Schedule creation (dropdowns, bulk units, validation).
  - TC-021-030: Viewing/printing (individual filters, PDF output, checkboxes).
  - TC-031-040: Edits (inline changes, auto-save, undo).
  - TC-041-050: Edge/performance (duplicates, large data, mobile).
- **Automation**: 70% (unit/E2E); manual for usability/print.
- **Quality Gates**:
  - Alpha: Core form/print pass; no P0 bugs.
  - Beta: Usability sign-off; performance met; US-002 integration.
  - Release: Full regression; zero data loss; stakeholder demo.
- **Metrics**: Coverage >85%; bug escape <3%; usability error rate <5%.

## 6. Sprint Planning & Next Steps
- **Breakdown**:
  1. Housekeeper config (1 day).
  2. Simplified form + dropdowns (2 days).
  3. Individual views/printing (1-2 days).
  4. Inline edits + toasts (1 day).
  5. Testing + refinements (1 day).
- **Team Assignments**: Dev for implementation; QA for usability tests; PO for low-tech validation.
- **Milestones**: Prototype by sprint mid; full integration post-US-001.
- **Enhancements**: Optional batch unit import; completion analytics (post-v2).

This draft aligns US-003 with v2 goals, ensuring simplicity for the housekeeping use case. Review with team for refinements; approve to move to backlog.